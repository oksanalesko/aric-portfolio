import{d as v,s as y,b as m}from"./app.min.js";function E(){const h=document.querySelectorAll("[data-fls-showmore]");let r,n;h.length&&(r=Array.from(h).filter(function(e,t,s){return!e.dataset.flsShowmoreMedia}),r.length&&c(r),document.addEventListener("click",w),window.addEventListener("resize",w),n=v(h,"flsShowmoreMedia"),n&&n.length&&(n.forEach(e=>{e.matchMedia.addEventListener("change",function(){c(e.itemsArray,e.matchMedia)})}),u(n)));function u(e){e.forEach(t=>{c(t.itemsArray,t.matchMedia)})}function c(e,t){e.forEach(s=>{S(s,t)})}function S(e,t=!1){e=t?e.item:e;let s=e.querySelectorAll("[data-fls-showmore-content]"),i=e.querySelectorAll("[data-fls-showmore-button]");s=Array.from(s).filter(a=>a.closest("[data-fls-showmore]")===e)[0],i=Array.from(i).filter(a=>a.closest("[data-fls-showmore]")===e)[0];const o=g(e,s);t.matches||!t?o<p(s)?(y(s,0,e.classList.contains("--showmore-active")?p(s):o),i.hidden=!1):(m(s,0,o),i.hidden=!0):(m(s,0,o),i.hidden=!0)}function g(e,t){let s=0;const i=e.dataset.flsShowmore?e.dataset.flsShowmore:"size",o=parseFloat(getComputedStyle(t).rowGap)?parseFloat(getComputedStyle(t).rowGap):0;if(i==="items"){const a=t.dataset.flsShowmoreContent?t.dataset.flsShowmoreContent:3,d=t.children;for(let l=1;l<d.length;l++){const f=d[l-1],H=parseFloat(getComputedStyle(f).marginTop)?parseFloat(getComputedStyle(f).marginTop):0,A=parseFloat(getComputedStyle(f).marginBottom)?parseFloat(getComputedStyle(f).marginBottom):0;if(s+=f.offsetHeight+H,l==a)break;s+=A}o&&(s+=(a-1)*o)}else s=t.dataset.flsShowmoreContent?t.dataset.flsShowmoreContent:150;return s}function p(e){let t,s=e.offsetHeight;e.style.removeProperty("height"),e.closest("[hidden]")&&(t=e.closest("[hidden]"),t.hidden=!1);let i=e.offsetHeight;return t&&(t.hidden=!0),e.style.height=`${s}px`,i}function w(e){const t=e.target,s=e.type;if(s==="click"){if(t.closest("[data-fls-showmore-button]")){const o=t.closest("[data-fls-showmore-button]").closest("[data-fls-showmore]"),a=o.querySelector("[data-fls-showmore-content]"),d=o.dataset.flsShowmoreButton?o.dataset.flsShowmoreButton:"500",l=g(o,a);a.classList.contains("--slide")||(o.classList.contains("--showmore-active")?y(a,d,l):m(a,d,l),o.classList.toggle("--showmore-active"))}}else s==="resize"&&(r&&r.length&&c(r),n&&n.length&&u(n))}}window.addEventListener("load",E);
